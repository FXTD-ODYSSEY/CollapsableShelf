# OBSELETE

Please dont't use this tool, It may crash your Maya shelf data sometimes, I recommand a better shelf tool [SiShelf](https://github.com/mochio326/SiShelf)

# CollapsableShelf

Maya Shelf Collapsable Separator | auto convert the mel separator for better user experience

[中文文档](./README_zh_CN.md)

![alt](img/01.gif)

## installation

The installation steps are the same as my other plug-in [mpdb](https://github.com/FXTD-ODYSSEY/mpdb), as follows: 

1. Download the released plug-in package on Github (or clone the release branch locally). 
2. Extract the compressed package to any path (it is recommended that the path be kept in full English) (if it is a cloned branch, it does not need to be unzipped). 
3. Drag install.mel onto Maya's viewport

After installation, all separator on the shelf are automatically switched to Collapsable Separator

## Attension

![alt](img/02.png)

The properties of the icon cannot be modified properly after the separator switch, so I added the option to restore the original      
In addition, quitting the software auto-save shelf will cause all the icons of the Collapsable Separator to be lost if you don't return to the original, but don't worry, I have already monitored the exit event to make sure that the shelf is restored and saved when you exit the program.

![alt](img/03.png)

Click the check box of `enable` to switch freely.     
Click `update` to update the data on the shelf. 


---

![alt](img/04.gif)

you need to pay attention to the width of the Collapsable component. If the width of the software is not enough, it will move below.    

## Options

Mel's separator cannot be added directly to the shelf through Maya and needs to be operated with the help of the mel language.      
There is a mel script generated by the corresponding shelf in `[my document]/maya/[version]/pref/shelves/` directory.      
You can add separator, separator parameters by modifying the script to refer to the official default shelf.     

---

I have also added some special parameters to the parameters of separator to make the Collapsable Separator controllable.   

-docTag parameter passing string like "{tooltip};;{color}" , then the first string set the Collapsable button tooltip and the second string set the color.    
-annotation parameter directly sets the status display below
-enable store the Collapsable state

example:

```mel
separator
    -enable 1 // store the Collapsable state
    -docTag "tooltip example;;red" // The button displays "tooltip example" and appears red-color characters refer to the colors supported by the css stylesheet 
    -annotation "status example" // The status bar below displays "status example"
    -width 34
    -height 35
    -manage 1
    -visible 1
    -preventOverride 0
    -enableBackground 0
    -highlightColor 0.321569 0.521569 0.65098 
    -style "shelf" 
    -horizontal 0
;

separator
    -enable 1
    -docTag "tooltip example;;0,255,0" // The color can also be represented by a three-digit number from 0 to 255.
    -width 34
    -height 35
    -manage 1
    -visible 1
    -preventOverride 0
    -enableBackground 0
    -highlightColor 0.321569 0.521569 0.65098 
    -style "shelf" 
    -horizontal 0
;
```
